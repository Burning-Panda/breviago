{{/* templates/acronym_detail.html */}}
{{ define "acronym_detail" }}
<div id="detail" class="h-full flex flex-col overflow-y-auto">
  <div class="sticky top-0 bg-white z-10 border-b">
    <div class="flex items-center justify-between p-4">
      <h2 class="text-xl font-semibold">Acronym Details</h2>
      <div class="flex space-x-2">
        <!-- Share -->
        <button
          hx-get="/api/acronyms/{{ .ID }}/share"
          hx-target="#modal"
          hx-swap="innerHTML"
          class="p-2 rounded hover:bg-gray-100"
        >
          <img src="/static/template.png" alt="Share" width="18" height="18">
        </button>
        <!-- Edit -->
        <button
          hx-get="/acronyms/{{ .ID }}/edit"
          hx-target="#detail"
          hx-swap="innerHTML"
          class="p-2 rounded hover:bg-gray-100"
        >
          <img src="/static/template.png" alt="Edit" width="18" height="18">
        </button>
        <!-- Delete -->
        <button
          hx-delete="/api/acronyms/{{ .ID }}"
          hx-confirm="Are you sure you want to delete &quot;{{ .Acronym }}&quot;?"
          hx-swap="none"
          class="p-2 rounded hover:bg-gray-100 text-red-600"
        >
          <img src="/static/template.png" alt="Delete" width="18" height="18">
        </button>
        <!-- Close (mobile) -->
        <button
          onclick="closeDetail()"
          class="p-2 rounded hover:bg-gray-100 md:hidden"
        >
          <img src="/static/template.png" alt="Close" width="18" height="18">
        </button>
      </div>
    </div>
  </div>

  <div class="flex-1 p-6">
    <div class="mb-8">
      <div class="flex items-baseline justify-between mb-2">
        <h1 class="text-3xl font-bold">{{ .Acronym }}</h1>
        <a href="{{ .URL }}" target="_blank" class="text-xs text-blue-600 hover:underline flex items-center">
          <img src="/static/template.png" alt="Open" width="12" height="12" class="mr-1">
          Open in new tab
        </a>
      </div>
      <h2 class="text-xl mb-4">{{ .Meaning }}</h2>

      <div class="bg-gray-50 rounded-lg p-4 mb-6">
        <h3 class="text-sm font-medium mb-2">Description</h3>
        <p class="whitespace-pre-line">{{ .Description }}</p>
      </div>

      <div class="mb-6">
        <h3 class="text-sm font-medium mb-2">Tags</h3>
        <div class="flex flex-wrap gap-2">
          {{ range .Tags }}
            <span class="px-3 py-1 rounded-full bg-blue-100 text-blue-700 text-sm flex items-center">
              <img src="/static/template.png" alt="Tag" width="14" height="14" class="mr-1">
              {{ . }}
            </span>
          {{ end }}
        </div>
      </div>

      <div class="border-t pt-4">
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-gray-500">
          <div class="flex items-center">
            <img src="/static/template.png" alt="Calendar" width="16" height="16" class="mr-2">
            <div>
              <p>Created: {{ .CreatedAt }}</p>
              <p>Updated: {{ .UpdatedAt }}</p>
            </div>
          </div>
          <div class="flex items-center">
            <img src="/static/template.png" alt="User" width="16" height="16" class="mr-2">
            <p>Created by: {{ .CreatedBy }}</p>
          </div>
        </div>
      </div>
    </div>

    <div class="border-t pt-4">
      <h3 class="text-lg font-medium mb-3">Related Acronyms</h3>
      <div class="grid grid-cols-1 md:grid-cols-2 gap-3">
        {{ range first 4 .Tags }}
          <div
            class="p-3 border rounded hover:bg-gray-50 cursor-pointer"
            hx-get="/api/acronyms?tag={{ . }}"
            hx-target="#list"
            hx-swap="innerHTML"
          >
            <h4 class="font-medium">{{ upper . }}</h4>
            <p class="text-sm">Related to {{ . }}</p>
          </div>
        {{ end }}
      </div>
    </div>
  </div>

  <div id="modal"></div>
</div>

<script>
function closeDetail(){
  document.getElementById('detail').innerHTML = '';
}
</script>
{{ end }}
