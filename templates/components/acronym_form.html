{{/* templates/acronym_form.html */}}
{{ define "acronym_form" }}
<form
  id="acronym-form"
  hx-post="{{ if .ID }}/api/acronyms/{{ .ID }}{{ else }}/api/acronyms{{ end }}"
  hx-target="#list"
  hx-swap="outerHTML"
  class="h-full flex flex-col overflow-y-auto"
>
  <div class="sticky top-0 bg-white z-10 border-b">
    <div class="flex items-center justify-between p-4">
      <h2 class="text-xl font-semibold">
        {{ if .ID }}Edit Acronym{{ else }}Create New Acronym{{ end }}
      </h2>
      <button
        type="button"
        onclick="closeDetail()"
        class="p-2 rounded hover:bg-gray-100"
      >
        <img src="/static/template.png" alt="Close" width="18" height="18">
      </button>
    </div>
  </div>

  <div class="flex-1 p-6 overflow-auto">
    <div class="space-y-6">
      <div>
        <label for="acronym" class="block text-sm font-medium mb-1">Acronym</label>
        <input
          name="acronym"
          id="acronym"
          value="{{ .Acronym }}"
          required
          class="w-full px-4 py-2 border rounded"
          placeholder="e.g. HTML"
        >
      </div>

      <div>
        <label for="meaning" class="block text-sm font-medium mb-1">Full Meaning</label>
        <input
          name="meaning"
          id="meaning"
          value="{{ .Meaning }}"
          required
          class="w-full px-4 py-2 border rounded"
          placeholder="e.g. HyperText Markup Language"
        >
      </div>

      <div>
        <label for="description" class="block text-sm font-medium mb-1">Description</label>
        <textarea
          name="description"
          id="description"
          rows="4"
          class="w-full px-4 py-2 border rounded"
          placeholder="Add a detailed description..."
        >{{ .Description }}</textarea>
      </div>

      <div>
        <label for="folder" class="block text-sm font-medium mb-1">Folder</label>
        <select
          name="folderId"
          id="folder"
          required
          class="w-full px-4 py-2 border rounded"
        >
          <option value="">Select a folder</option>
          {{ range .Folders }}
            <option value="{{ .ID }}" {{ if eq .ID $.FolderID }}selected{{ end }}>
              {{ .Name }}
            </option>
          {{ end }}
        </select>
      </div>

      <div>
        <label for="tags" class="block text-sm font-medium mb-1">Tags (commaâ€‘separated)</label>
        <input
          name="tags"
          id="tags"
          value="{{ join .Tags \",\" }}"
          class="w-full px-4 py-2 border rounded"
          placeholder="e.g. web,api,ui"
        >
      </div>
    </div>
  </div>

  <div class="flex justify-end space-x-3 p-4 border-t">
    <button
      type="button"
      onclick="closeDetail()"
      class="px-4 py-2 border rounded"
    >
      Cancel
    </button>
    <button type="submit" class="px-4 py-2 bg-blue-600 text-white rounded">
      {{ if .ID }}Update{{ else }}Create{{ end }}
    </button>
  </div>
</form>

<script>
function closeDetail(){
  document.getElementById('detail').innerHTML = '';
}
</script>
{{ end }}